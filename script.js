!function(){let e=new Image,t=document.getElementById("loader"),n=document.getElementById("hero");e.src="imgs/header.jpg",e.onload=(()=>{t.classList.add("done"),n.classList.add("show")});let l=document.querySelectorAll(".projects__project"),d=document.getElementById("modal-container"),o=document.getElementById("modal"),s=document.getElementById("modal-close"),c=document.getElementById("modal-title"),a=document.getElementById("modal-desc"),i=document.getElementById("modal-list"),r=document.getElementById("modal-image"),m=document.getElementById("modal-live"),u=document.getElementById("modal-src"),y=document.getElementById("focusguard-last"),g=document.getElementById("focusguard-first");function E(){o.classList.remove("active"),d.classList.remove("active"),i.innerHTML=""}function p(e,t){fetch("assets/projects.json").then(e=>{if(e.ok)return e.json();throw new Error("Something went wrong!")}).then(n=>{let l=n[e];l&&(d.classList.add("active"),c.textContent=l.title,a.textContent=l.description,r.style.backgroundImage=`url('${l.image}')`,"None"!==l.live?(m.style.display="inline",m.href=l.live):m.style.display="none","None"!==l.src?(u.style.display="inline",u.href=l.src):u.style.display="none",Object.keys(l.languages).map(e=>{let t=l.languages[e],n=document.createElement("li");n.classList.add("modal__item"),n.textContent=t,i.appendChild(n)}),o.classList.add("active"),t&&setTimeout(()=>{s.focus()},400))})}y.addEventListener("focus",()=>{s.focus()}),g.addEventListener("focus",()=>{"inline"===u.style.display?u.focus():"inline"===m.style.display&&m.focus()}),l.forEach(e=>{e.addEventListener("click",()=>p(e.id)),e.addEventListener("keypress",t=>{o.classList.contains("active")||"Enter"===t.key&&p(e.id,!0)})}),s.addEventListener("click",E),d.addEventListener("click",e=>{"project__modalContainer active"===e.target.className&&E()}),document.addEventListener("keyup",e=>{o.classList.contains("active")&&"Escape"===e.key&&E()});let f=document.getElementById("showmore-btn"),v=document.querySelectorAll(".projects__project"),L=4;f.addEventListener("click",()=>{if("Mniej"!==document.querySelector(".more-btn__text").textContent){let e=document.querySelectorAll(".projects__project.disabled");if(e.length)for(let t=0;t<4;t++)L++,e[t]&&e[t].classList.remove("disabled"),L===v.length&&(document.querySelector(".more-btn__text").textContent="Mniej")}else{L=4,document.querySelector(".more-btn__text").textContent="WiÄ™cej";for(let e=4;e<v.length;e++)v[e].classList.add("disabled")}})}();